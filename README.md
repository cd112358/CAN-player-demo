# CAN-player-demo

前言：
1.原生js开发的弹幕播放器，不含任何插件或框架
2.作者目前只是个学习前端大半年的个人练习生嘤嘤嘤，代码写得比较呆，请多包涵，后续功能完善时会进行重构

技术点：
1.基本的dom操作
2.canvas的基本使用
3.video的功能封装（不使用video自带的control属性），用原生js实现一个播放器的基本功能

功能介绍（已实现）：
1.弹幕展示(滚动，顶部)
2.弹幕发送（可自定义弹幕样式）
3.弹幕开关
4.弹幕列表
5.捕获单条弹幕（点击滚动弹幕会在浏览器控制台打印其下标，后续开发的功能会对其进行处理）
6.播放/暂停
7.可拖动进度条
8.进入/退出全屏

存在的问题：
1.顶部弹幕第一次渲染会出现屏闪问题
2.进入/退出全屏功能对部分浏览器不兼容（chrome内核的浏览器基本没问题）
...

Q:为什么使用canvas而不是CSS3实现弹幕功能？
A:当初做弹幕功能之前也考虑过这个问题，确实如果用CSS3来实现的话会比canvas轻松不少，但是canvas有个很大的优势就是
无论屏幕上出现多少条弹幕，它们也只占用一个dom节点，这意味着用canvas在加载高并发弹幕时是可以做到完全不掉帧的，而
CSS3的话要在短时间内做出成百上千条弹幕的滚动动画意味着浏览器也要在短时间内渲染这么多dom节点，如果没有进行渲染优
化是很容易造成卡顿掉帧的（如果显卡性能好的话就当我没说），简而言之，canvas的上限是取决于Javascript的计算能力，
而CSS3的上限是取决于浏览器的性能，很明显前者比后者上限要高，所以目前使用canvas而不是CSS3实现弹幕功能，不过后续
也会写CSS3弹幕，通过计算一定时间段内的弹幕总量来判断使用哪种渲染模式

